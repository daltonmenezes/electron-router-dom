---
title: Introduzindo Electron Router DOM v2.0! üéâ
date: 2024-09-11 23:12:00
excerpt: Lan√ßada a vers√£o 2.0 do Electron Router DOM, saiba o que mudou!
author_id: daltonmenezes
tags: [electron-router-dom, react-router-dom, react, electron, react-router]
---

Dois anos ap√≥s o lan√ßamento da vers√£o 1.0, estou feliz em anunciar o lan√ßamento da vers√£o principal 2.0 do `Electron Router DOM`! üéâ

A vers√£o foi reescrita, com o objetivo de melhorar a experi√™ncia do desenvolvedor, a manutenabilidade e a infer√™ncia de tipos.
Nesse post, abordarei as principais mudan√ßas e melhorias introduzidas na vers√£o 2.0.

<br/>

## Site, blog, documenta√ß√£o e exemplos

Agora temos um site que conta com esses recursos para te ajudar a extrair o m√°ximo da biblioteca.

Na vers√£o 1.0 cont√°vamos, apenas, com o README do reposit√≥rio no GitHub e a implementa√ß√£o real no projeto [electron-app](https://github.com/daltonmenezes/electron-app) como exemplo.
O que, para muitas pessoas, n√£o era suficiente para entender como a biblioteca funcionava de maneira mais completa e intuitiva.

## Melhorias na tipagem

Agora voc√™ pode ter uma melhor experi√™ncia de desenvolvimento onde os `ids` e `query keys` s√£o tipados.
Com isso, o desenvolvimento se torna mais seguro e intuitivo, evitando erros de digita√ß√£o,
garantindo que voc√™ est√° passando os valores corretos e um melhor uso do intelisense do seu editor de c√≥digo.

## Reescrita do c√≥digo

O c√≥digo da biblioteca foi reescrito, visando as melhorias introduzidas pelo `React Router v6.4`, como o suporte as `Data APIs`,
possibilitando um uso mais sofisticado e produtivo tanto do `Electron Router DOM` quanto do `React Router`.

## Query strings

Agora voc√™ pode usar as `query strings` com mais facilidade e passar informa√ß√µes entre o processo principal e o renderizador.

## Simplifica√ß√£o da API

A API foi simplificada para facilitar o uso e a compreens√£o da biblioteca.
As fun√ß√µes `createFileRoute` e `createURLRoute` foram removidas, agora voc√™ pode usar o m√©todo `registerRoute` retornado pela fun√ß√£o `createElectronRouter` no lugar delas.

O que antes era feito dessa forma:

```ts title="src/main/index.ts"
  const devServerURL = createURLRoute('http://localhost:3000', id)

  const fileRoute = createFileRoute(
    join(__dirname, '../renderer/index.html'),
    id
  )

  process.env.NODE_ENV === 'development'
    ? window.loadURL(devServerURL)
    : window.loadFile(...fileRoute)
```
Agora, ser√° feito dessa:

```ts title="src/main/index.ts"
  registerRoute({
    id: 'main',
    browserWindow: window,
    htmlFile: path.join(__dirname, '../renderer/index.html'),
  })
```

Voc√™ n√£o precisa mais se preocupar com a l√≥gica de carregar a URL do servidor de desenvolvimento ou o arquivo HTML da aplica√ß√£o, o `Electron Router DOM` cuidar√° disso para voc√™.

Outra mudan√ßa √© que o componente `Route` n√£o √© mais exportado do pacote `electron-router-dom`, mas sim do pacote `react-router-dom`, tornando mais claro e simples saber o que utilizar de cada biblioteca.

## Conclus√£o

Com essas melhorias, foi necess√°rio mudar a forma como voc√™ cria o roteador. E foi necess√°rio atualizar as vers√µes m√≠nimas requeridas das depend√™ncias para extrair ao m√°ximo os novos recursos introduzidos na `vers√£o 6.4 do React Router`, causando **breaking changes**!

Eu sei, **breaking changes** sempre trazem desconforto e, acredite em mim, n√£o foi uma decis√£o f√°cil, mas isso trar√° uma experi√™ncia e evolu√ß√£o maior para os seus projetos.

Dito isso, n√£o se preocupe, o processo de migra√ß√£o √© muito simples e voc√™ pode conferir o guia de migra√ß√£o que preparei para obter mais detalhes:

<br/>

- [Migrando para a v2](/docs/guides/migration/migrating-from-v1-to-v2)

Espero que voc√™ goste das mudan√ßas e que elas tornem o desenvolvimento de aplica√ß√µes Electron com React mais agrad√°vel e produtivo.

Obrigado por usar o `Electron Router DOM`! üíõ


